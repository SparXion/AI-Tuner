<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Tuner v3.0 - Customize AI Response Style</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style-v6.css">
    <style>
        /* Force dark mode colors - loaded last to override everything */
        body.dark-mode .radar-container-box,
        body.dark-mode .radar-container-box h3,
        body.dark-mode .radar-container-box * {
            color: #ffffff !important;
        }
        
        body.dark-mode .prompt-container-box,
        body.dark-mode .prompt-container-box h3,
        body.dark-mode .prompt-container-box * {
            color: #ffffff !important;
        }
        
        body.dark-mode .step-number {
            background: #ffffff !important;
            color: #000000 !important;
            border-color: #ffffff !important;
        }
        
        /* Exceptions for buttons inside containers */
        body.dark-mode .radar-container-box .btn,
        body.dark-mode .prompt-container-box .btn {
            color: #ffffff !important;
        }
        
        body.dark-mode .radar-container-box .btn-primary,
        body.dark-mode .prompt-container-box .btn-primary {
            background: #ffffff !important;
            color: #000000 !important;
        }
    </style>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div style="display: flex; justify-content: flex-end; align-items: center; gap: 10px; margin-bottom: 20px;">
                <a href="index.html" class="btn btn-secondary" style="font-size: 1rem; padding: 8px 16px; text-decoration: none; display: inline-block;">
                    Back to v2.0
                </a>
                <button id="emoji-shutoff-toggle" class="btn btn-secondary" style="font-size: 1rem; padding: 8px 16px;">
                    <span id="emoji-shutoff-text">No Emojis</span>
                </button>
                <button id="dark-mode-toggle" class="btn btn-secondary" style="font-size: 1rem; padding: 8px 16px;">
                    <span id="dark-mode-text">Dark Mode</span>
                </button>
            </div>
            <h1>AI Tuner v3.0</h1>
            <p class="subtitle" id="mode-subtitle">Customize AI behavior with precision controls</p>
            <div class="mode-toggle-container" style="margin-top: 20px;">
                <div class="mode-toggle-boxes">
                    <button id="mode-beginner" class="mode-box" data-mode="beginner">
                        <span>Beginner</span>
                    </button>
                    <button id="mode-advanced" class="mode-box" data-mode="advanced">
                        <span>Advanced</span>
                    </button>
                </div>
            </div>
            <div class="mode-description">
                <strong>Beginner:</strong> 12 essential levers | <strong>Advanced:</strong> All 26 tuning levers
            </div>
            
            <!-- Expandable Info Section -->
            <div class="app-info-section" style="margin-top: 30px;">
                <button id="app-info-toggle" class="app-info-toggle">
                    <span class="app-info-toggle-text">What is AI Tuner?</span>
                    <span class="app-info-toggle-icon">▼</span>
                </button>
                <div id="app-info-content" class="app-info-content">
                    <div class="app-info-inner">
                        <h3>About AI Tuner</h3>
                        <p><strong>AI Tuner</strong> lets you customize how AI assistants respond to you. Instead of accepting default behavior, you can fine-tune personality, tone, and communication style.</p>
                        
                        <h4>How It Works</h4>
                        <ol class="app-info-steps">
                            <li><strong>Choose Your AI Model</strong> - Select from 7 leading platforms (Grok, Gemini, Claude, ChatGPT, Perplexity, Mistral, Llama). Each has its own default personality.</li>
                            <li><strong>Apply Hidden Mode</strong> - Override the default with specialized personas like Therapist, Truth-Seeker, or Coder modes.</li>
                            <li><strong>Fine-Tune Settings</strong> - Adjust 12-26 sliders to control specific behaviors like empathy, conciseness, creativity, and more.</li>
                        </ol>
                        
                        <h4>Key Features</h4>
                        <ul class="app-info-features">
                            <li><strong>Universal Tuning:</strong> Works with any AI model through prompt engineering</li>
                            <li><strong>26 Precise Levers:</strong> Control everything from hedging intensity to answer completeness</li>
                            <li><strong>Live Preview:</strong> See your settings visualized in a radar chart and generated prompt</li>
                            <li><strong>Save Presets:</strong> Create and reuse your favorite configurations</li>
                            <li><strong>Beginner/Advanced Modes:</strong> Start simple with 12 essential levers or unlock all 26 for complete control</li>
                        </ul>
                        
                        <p><em>Copy the generated prompt and paste it into your AI chat to apply your custom tuning.</em></p>
                    </div>
                </div>
            </div>
            
            <!-- Saved Presets Section -->
            <div class="saved-presets-header" style="margin-top: 30px;">
                <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 10px;">Saved Presets</h3>
                <div id="saved-presets-container" class="preset-buttons-header">
                    <p class="no-presets-message" style="color: #999; font-style: italic; margin: 0; font-size: 0.9rem;">No saved presets yet. Create one using "Save Preset" button.</p>
                </div>
            </div>
        </header>

        <main class="main-layout">
            <!-- Left Side: Three-Step Workflow -->
            <div class="workflow-container">
                <!-- Step 1: Choose Model (Trunk) -->
                <div class="workflow-step step-1">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div class="step-title">
                            <h2>Choose Your AI Model <span class="info-btn-step" data-step="1">ℹ</span></h2>
                            <p class="step-description">Select the AI platform you want to tune. This sets the foundation with the model's default persona.</p>
                        </div>
                    </div>
                    <div class="model-grid" id="model-selector">
                        <!-- Models will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Step 2: Apply Hidden Mode (Branch 1) -->
                <div class="workflow-step step-2">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div class="step-title">
                            <h2>Apply Hidden Mode <span class="info-btn-step" data-step="2">ℹ</span></h2>
                            <p class="step-description">Apply a specialized persona from the secret menu. These override the default model persona.</p>
                        </div>
                    </div>
                    <div class="persona-grid" id="persona-selector">
                        <!-- Personas will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Step 3: Fine-Tune (Branch 2) -->
                <div class="workflow-step step-3">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <div class="step-title">
                            <h2>Fine-Tune Your Settings <span class="info-btn-step" data-step="3">ℹ</span></h2>
                            <p class="step-description">Adjust sliders to customize the AI's behavior precisely.</p>
                        </div>
                    </div>
                    <div class="controls-section" id="controls-section">
                        <!-- Levers will be populated by JavaScript organized by 12 categories -->
                    </div>
                </div>
            </div>

            <!-- Preview Section (Right Side) -->
            <div class="preview-section-container">
                <div class="preview-section">
                    <!-- Radar Container Box -->
                    <div class="radar-container-box">
                        <h3>Live Preview</h3>
                        <div class="radar-wrapper">
                            <canvas id="radarCanvas"></canvas>
                        </div>
                    </div>
                    
                    <!-- Prompt Container Box -->
                    <div class="prompt-container-box">
                        <h3>Generated Prompt</h3>
                        
                        <!-- Saved Presets Section - Mobile only (hidden on desktop) -->
                        <div class="saved-presets-header saved-presets-mobile" style="display: none; margin-bottom: 20px;">
                            <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 10px;">Saved Presets</h3>
                            <div id="saved-presets-container-mobile" class="preset-buttons-header">
                                <p class="no-presets-message" style="color: #999; font-style: italic; margin: 0; font-size: 0.9rem;">No saved presets yet. Create one using "Save Preset" button.</p>
                            </div>
                        </div>
                        
                        <div class="prompt-preview" id="prompt-preview">
                            <p class="placeholder-text">← Start by selecting a model (Step 1)</p>
                        </div>
                        <div class="actions">
                            <button id="copy-prompt" class="btn btn-primary">Copy Prompt</button>
                            <button id="save-preset" class="btn btn-secondary">Save Preset</button>
                            <button id="download-json" class="btn btn-secondary">Download Config</button>
                            <button id="download-markdown" class="btn btn-secondary">Download Doc</button>
                            <button id="upload-config" class="btn btn-secondary">Upload Config</button>
                        </div>
                        <input type="file" id="file-input" accept=".json" style="display: none;">
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Info Popup Overlay -->
    <div id="info-overlay" class="info-overlay">
        <div class="info-popup">
            <div class="info-header">
                <h3 id="info-title">Lever Information</h3>
                <button id="info-close" class="info-close">×</button>
            </div>
            <div class="info-content" id="info-content">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/data/v6-models.js"></script>
    <script src="js/data/v6-levers.js"></script>
    <script src="js/data/v6-personas.js"></script>
    <script src="radar.js"></script>
    <script src="js/core/v6-engine.js"></script>
    <script>
        // Initialize v3.0 app
        // Load dark mode preference BEFORE DOMContentLoaded to prevent flash
        (function() {
            const savedDarkMode = localStorage.getItem('aiTunerDarkMode') === 'true';
            if (savedDarkMode) {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
        })();
        
        document.addEventListener("DOMContentLoaded", () => {
            if (window.AITunerV6) {
                window.aiTuner = new window.AITunerV6();
            }
        });
    </script>
</body>
</html>

